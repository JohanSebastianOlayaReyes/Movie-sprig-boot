const a0_0x177ae7=a0_0x1f58;(function(_0x3c9057,_0x47ca6f){const _0xdd6af8=a0_0x1f58,_0x5e65c1=_0x3c9057();while(!![]){try{const _0x438204=parseInt(_0xdd6af8(0x1c9))/0x1*(-parseInt(_0xdd6af8(0x1b4))/0x2)+parseInt(_0xdd6af8(0x19e))/0x3*(parseInt(_0xdd6af8(0x1cf))/0x4)+parseInt(_0xdd6af8(0x1ec))/0x5+parseInt(_0xdd6af8(0x1a8))/0x6*(parseInt(_0xdd6af8(0x1f1))/0x7)+-parseInt(_0xdd6af8(0x1ca))/0x8+-parseInt(_0xdd6af8(0x1a0))/0x9*(parseInt(_0xdd6af8(0x1ae))/0xa)+-parseInt(_0xdd6af8(0x199))/0xb;if(_0x438204===_0x47ca6f)break;else _0x5e65c1['push'](_0x5e65c1['shift']());}catch(_0x37c0ed){_0x5e65c1['push'](_0x5e65c1['shift']());}}}(a0_0x5121,0x6cd4b));const a0_0x43582e=a0_0x1b60;(function(_0x1ef973,_0x287291){const _0x217412=a0_0x1f58,_0x5b4426=a0_0x1b60,_0x570657=_0x1ef973();while(!![]){try{const _0x3841c3=-parseInt(_0x5b4426(0x211))/0x1+-parseInt(_0x5b4426(0x217))/0x2*(-parseInt(_0x5b4426(0x215))/0x3)+parseInt(_0x5b4426(0x213))/0x4+parseInt(_0x5b4426(0x230))/0x5*(parseInt(_0x5b4426(0x1e6))/0x6)+parseInt(_0x5b4426(0x21d))/0x7+-parseInt(_0x5b4426(0x21e))/0x8+-parseInt(_0x5b4426(0x22e))/0x9;if(_0x3841c3===_0x287291)break;else _0x570657['push'](_0x570657[_0x217412(0x1e8)]());}catch(_0x5cad1c){_0x570657[_0x217412(0x19d)](_0x570657['shift']());}}}(a0_0x1beb,0x4258b));function a0_0x5121(){const _0x2f5eab=['application/json','notification\x20','<div\x20class=\x22loading\x22>No\x20hay\x20películas\x20disponibles</div>','/deleteMovie/','div','Error\x20al\x20eliminar\x20la\x20película','<div\x20class=\x22loading\x22>Cargando\x20películas...</div>','forEach','786184iglmLH','Añadir\x20Nueva\x20Película','http://localhost:8081/api','/updateMovie/','Editar\x20Película','1UjxDeS','2104392QwaAZH','movie-card','textContent','reset','getElementById','4gbUFst','/getMovieById/','firstChild','className','</div>','innerHTML','239346YsVgYy','Por\x20favor,\x20introduce\x20un\x20ID\x20válido\x20para\x20buscar','añadida','title','\x20con\x20éxito','addEventListener','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22action-icons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22icon-button\x20edit\x22\x20title=\x22Editar\x20película\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22icon-button\x20delete\x22\x20title=\x22Eliminar\x20película\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','active','/getAllMovies','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','1534576AtaLdP','list','Error:','appendChild','865233UdxgVI','detailContent','DOMContentLoaded','Error:\x20','Error\x20al\x20cargar\x20los\x20detalles\x20de\x20la\x20película','shift','¿Estás\x20seguro\x20de\x20que\x20deseas\x20eliminar\x20esta\x20película?','Película\x20','48DKIDpH','3225665HGwAvM','btnSubmit','message','remove','3747800pNzikd','6867tXvMPV','<div\x20class=\x22error\x22>Error:\x20','error','movieForm','classList','add','2255671FCWvVw','añadir','createElement','/addMovie','push','1697697NrwkNx','movieDetail','960057mILINe','movieGrid','genre','358206PbjVox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>','form','movieId','preventDefault','3474tMIkcg','insertBefore','click','searchInput','actualizar','stringify','30FphYea','DELETE','.edit','PUT','detail','hidden','1090262UvazcE','btnCancelForm','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Director:</strong>\x20','json','error-message','formTitle','Error\x20al\x20cargar\x20películas','\x20la\x20película'];a0_0x5121=function(){return _0x2f5eab;};return a0_0x5121();}const API_BASE_URL=a0_0x177ae7(0x1c6),movieListSection=document[a0_0x43582e(0x222)](a0_0x43582e(0x20d)),movieDetailSection=document[a0_0x43582e(0x222)](a0_0x43582e(0x223)),movieFormSection=document[a0_0x43582e(0x222)](a0_0x43582e(0x201)),movieGrid=document['getElementById'](a0_0x177ae7(0x1a1)),detailContent=document[a0_0x177ae7(0x1ce)](a0_0x177ae7(0x1e4)),addMovieForm=document[a0_0x43582e(0x222)](a0_0x43582e(0x218)),formTitle=document[a0_0x177ae7(0x1ce)](a0_0x43582e(0x1e0)),movieIdInput=document[a0_0x43582e(0x222)](a0_0x43582e(0x20a)),searchInput=document[a0_0x43582e(0x222)](a0_0x43582e(0x1e5)),btnSearch=document[a0_0x43582e(0x222)](a0_0x43582e(0x1ef)),btnSubmit=document['getElementById'](a0_0x177ae7(0x1ed)),btnShowList=document[a0_0x43582e(0x222)](a0_0x43582e(0x1ec)),btnShowForm=document['getElementById'](a0_0x43582e(0x231)),btnBackToList=document[a0_0x177ae7(0x1ce)](a0_0x43582e(0x232)),btnCancelForm=document[a0_0x177ae7(0x1ce)](a0_0x43582e(0x233));let currentView=a0_0x177ae7(0x1e0),movies=[],isEditMode=![];btnShowList[a0_0x43582e(0x1fb)](a0_0x43582e(0x1db),()=>showView(a0_0x177ae7(0x1e0))),btnShowForm[a0_0x177ae7(0x1da)](a0_0x43582e(0x1db),()=>{const _0x531cdc=a0_0x177ae7,_0x1876b7=a0_0x43582e;isEditMode=![],formTitle[_0x531cdc(0x1cc)]=_0x1876b7(0x1f4),showView(_0x1876b7(0x1e3));}),btnBackToList[a0_0x43582e(0x1fb)](a0_0x43582e(0x1db),()=>showView('list')),btnCancelForm[a0_0x43582e(0x1fb)](a0_0x43582e(0x1db),()=>showView(a0_0x43582e(0x228))),btnSearch[a0_0x177ae7(0x1da)](a0_0x43582e(0x1db),handleSearch),addMovieForm[a0_0x43582e(0x1fb)](a0_0x43582e(0x1d8),handleFormSubmit);function showView(_0x4327fa){const _0x467488=a0_0x177ae7,_0x567e68=a0_0x43582e;currentView=_0x4327fa,movieListSection[_0x467488(0x197)][_0x467488(0x198)](_0x567e68(0x1fe)),movieDetailSection[_0x567e68(0x206)][_0x567e68(0x21b)](_0x567e68(0x1fe)),movieFormSection[_0x567e68(0x206)][_0x567e68(0x21b)](_0x467488(0x1b3));switch(_0x4327fa){case _0x567e68(0x228):movieListSection[_0x567e68(0x206)][_0x567e68(0x1e9)](_0x567e68(0x1fe)),fetchMovies(),btnShowList['classList'][_0x567e68(0x21b)](_0x467488(0x1dc)),btnShowForm[_0x567e68(0x206)][_0x467488(0x1ef)](_0x567e68(0x1f0));break;case _0x567e68(0x200):movieDetailSection[_0x567e68(0x206)][_0x567e68(0x1e9)](_0x467488(0x1b3)),btnShowList[_0x467488(0x197)][_0x567e68(0x21b)](_0x567e68(0x1f0)),btnShowForm[_0x567e68(0x206)][_0x567e68(0x1e9)](_0x567e68(0x1f0));break;case _0x567e68(0x1e3):movieFormSection[_0x467488(0x197)][_0x567e68(0x1e9)](_0x567e68(0x1fe)),btnShowList[_0x567e68(0x206)][_0x567e68(0x1e9)](_0x567e68(0x1f0)),btnShowForm['classList']['add'](_0x467488(0x1dc)),!isEditMode&&(addMovieForm[_0x467488(0x1cd)](),movieIdInput[_0x567e68(0x216)]='');break;}}async function fetchMovies(){const _0x4d3355=a0_0x177ae7,_0x539b3b=a0_0x43582e;try{movieGrid[_0x539b3b(0x20f)]=_0x539b3b(0x203);const _0x3b6dd9=await fetch(API_BASE_URL+_0x539b3b(0x220));if(!_0x3b6dd9['ok'])throw new Error(_0x539b3b(0x1eb));movies=await _0x3b6dd9[_0x539b3b(0x1dc)]();if(movies[_0x539b3b(0x1f6)]===0x0){movieGrid[_0x539b3b(0x20f)]=_0x539b3b(0x1e8);return;}renderMovies(movies);}catch(_0x57d027){console[_0x539b3b(0x20c)](_0x539b3b(0x22b),_0x57d027),movieGrid[_0x539b3b(0x20f)]=_0x4d3355(0x1f2)+_0x57d027[_0x539b3b(0x209)]+_0x539b3b(0x1f5);}}function renderMovies(_0x25a70d){const _0x4ad1b1=a0_0x177ae7,_0x892766=a0_0x43582e;movieGrid[_0x4ad1b1(0x1d4)]='',_0x25a70d[_0x892766(0x22c)](_0x33eb7c=>{const _0x1784ca=_0x4ad1b1,_0x9d2f1e=_0x892766,_0x166eca=document[_0x9d2f1e(0x20e)](_0x9d2f1e(0x229));_0x166eca[_0x1784ca(0x1d2)]=_0x1784ca(0x1cb),_0x166eca[_0x9d2f1e(0x20f)]=_0x9d2f1e(0x210)+_0x33eb7c[_0x1784ca(0x1d8)]+_0x9d2f1e(0x212)+_0x33eb7c[_0x9d2f1e(0x205)]+_0x9d2f1e(0x227)+_0x33eb7c[_0x9d2f1e(0x21a)]+_0x9d2f1e(0x1ed),_0x166eca[_0x1784ca(0x1da)](_0x9d2f1e(0x1db),_0x12ff8c=>{const _0x14be9d=_0x9d2f1e;!_0x12ff8c[_0x14be9d(0x1ee)][_0x14be9d(0x1ff)]('.action-icons')&&showMovieDetails(_0x33eb7c['id']);});const _0xa66d27=_0x166eca[_0x9d2f1e(0x234)](_0x9d2f1e(0x1f2)),_0x5117d3=_0x166eca[_0x9d2f1e(0x234)](_0x9d2f1e(0x207));_0xa66d27[_0x9d2f1e(0x1fb)](_0x9d2f1e(0x1db),_0x370073=>{const _0xd531c1=_0x9d2f1e;_0x370073[_0xd531c1(0x22d)](),handleEditMovie(_0x33eb7c);}),_0x5117d3[_0x9d2f1e(0x1fb)](_0x9d2f1e(0x1db),_0x40d829=>{const _0x271195=_0x9d2f1e;_0x40d829[_0x271195(0x22d)](),handleDeleteMovie(_0x33eb7c['id']);}),movieGrid[_0x9d2f1e(0x225)](_0x166eca);});}async function showMovieDetails(_0x1377a5){const _0x3caaec=a0_0x177ae7,_0x89c1bd=a0_0x43582e;try{detailContent[_0x89c1bd(0x20f)]=_0x89c1bd(0x226),showView(_0x89c1bd(0x200));const _0x4a3768=await fetch(API_BASE_URL+_0x89c1bd(0x208)+_0x1377a5);if(!_0x4a3768['ok'])throw new Error(_0x89c1bd(0x22f));const _0x23785a=await _0x4a3768[_0x3caaec(0x1b7)]();detailContent[_0x89c1bd(0x20f)]=_0x3caaec(0x1a4)+_0x23785a[_0x89c1bd(0x1df)]+_0x89c1bd(0x212)+_0x23785a[_0x89c1bd(0x205)]+_0x89c1bd(0x227)+_0x23785a[_0x89c1bd(0x21a)]+_0x89c1bd(0x1da);}catch(_0x381628){console[_0x89c1bd(0x20c)](_0x89c1bd(0x22b),_0x381628),detailContent[_0x3caaec(0x1d4)]=_0x89c1bd(0x204)+_0x381628[_0x89c1bd(0x209)]+_0x89c1bd(0x1f5);}}function handleEditMovie(_0x1a974c){const _0x237ccd=a0_0x177ae7,_0x3a4c5e=a0_0x43582e;isEditMode=!![],formTitle[_0x3a4c5e(0x1fc)]=_0x3a4c5e(0x1f8),movieIdInput[_0x3a4c5e(0x216)]=_0x1a974c['id'],document[_0x3a4c5e(0x222)](_0x3a4c5e(0x1df))[_0x3a4c5e(0x216)]=_0x1a974c[_0x237ccd(0x1d8)],document[_0x3a4c5e(0x222)](_0x3a4c5e(0x205))['value']=_0x1a974c[_0x3a4c5e(0x205)],document[_0x3a4c5e(0x222)](_0x3a4c5e(0x21a))[_0x3a4c5e(0x216)]=_0x1a974c[_0x3a4c5e(0x21a)],showView(_0x3a4c5e(0x1e3));}async function handleDeleteMovie(_0x5a5728){const _0x5e8208=a0_0x177ae7,_0x535204=a0_0x43582e;if(!confirm(_0x535204(0x1e2)))return;try{const _0x7e8932=await fetch(API_BASE_URL+_0x535204(0x221)+_0x5a5728,{'method':_0x5e8208(0x1af)});if(!_0x7e8932['ok'])throw new Error(_0x535204(0x219));showNotification(_0x535204(0x1d9),_0x535204(0x21f)),fetchMovies();}catch(_0x18f28f){console[_0x535204(0x20c)](_0x535204(0x22b),_0x18f28f),showNotification(_0x535204(0x1e7)+_0x18f28f[_0x535204(0x209)],_0x535204(0x214));}}function a0_0x1f58(_0x4d6dc6,_0x3609f7){const _0x512143=a0_0x5121();return a0_0x1f58=function(_0x1f58f8,_0x3bba62){_0x1f58f8=_0x1f58f8-0x195;let _0x36fff4=_0x512143[_0x1f58f8];return _0x36fff4;},a0_0x1f58(_0x4d6dc6,_0x3609f7);}async function handleSearch(){const _0x5e12cb=a0_0x177ae7,_0x2cd623=a0_0x43582e,_0x446c58=searchInput[_0x2cd623(0x216)][_0x2cd623(0x1f3)]();if(!_0x446c58){alert(_0x2cd623(0x224));return;}try{const _0x2ef177=await fetch(API_BASE_URL+_0x2cd623(0x208)+_0x446c58);if(!_0x2ef177['ok'])throw new Error('No\x20se\x20encontró\x20ninguna\x20película\x20con\x20ese\x20ID');const _0x40e710=await _0x2ef177[_0x2cd623(0x1dc)]();showMovieDetails(_0x40e710['id']);}catch(_0xe3c87a){console[_0x5e12cb(0x195)](_0x2cd623(0x22b),_0xe3c87a),showNotification(_0x2cd623(0x1e7)+_0xe3c87a[_0x2cd623(0x209)],_0x5e12cb(0x1b8));}}function a0_0x1beb(){const _0x29ccb5=a0_0x177ae7,_0x18595a=['actualizada',_0x29ccb5(0x1da),_0x29ccb5(0x1cc),_0x29ccb5(0x1b1),_0x29ccb5(0x1b3),'closest',_0x29ccb5(0x1b2),_0x29ccb5(0x196),_0x29ccb5(0x19c),_0x29ccb5(0x1c2),_0x29ccb5(0x1f2),'director',_0x29ccb5(0x197),'.delete',_0x29ccb5(0x1d0),_0x29ccb5(0x1ee),_0x29ccb5(0x1a6),_0x29ccb5(0x1d7),_0x29ccb5(0x195),'movieList',_0x29ccb5(0x19b),_0x29ccb5(0x1d4),_0x29ccb5(0x1a4),_0x29ccb5(0x1a3),_0x29ccb5(0x1b6),_0x29ccb5(0x1c4),_0x29ccb5(0x1b8),_0x29ccb5(0x1d5),'value','2kWpiqm','addMovieForm',_0x29ccb5(0x1c1),_0x29ccb5(0x1a2),'add',_0x29ccb5(0x1e5),_0x29ccb5(0x1f0),_0x29ccb5(0x1df),'success-message',_0x29ccb5(0x1dd),_0x29ccb5(0x1bf),_0x29ccb5(0x1ce),_0x29ccb5(0x19f),_0x29ccb5(0x1d6),_0x29ccb5(0x1e2),'<div\x20class=\x22loading\x22>Cargando\x20detalles...</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Género:</strong>\x20',_0x29ccb5(0x1e0),_0x29ccb5(0x1c0),_0x29ccb5(0x1a9),_0x29ccb5(0x1e1),_0x29ccb5(0x1c3),'stopPropagation',_0x29ccb5(0x1e3),_0x29ccb5(0x1e7),'66370uAVMvF','btnShowForm','btnBackToList',_0x29ccb5(0x1b5),'querySelector',_0x29ccb5(0x1ea),'submit','Película\x20eliminada\x20con\x20éxito',_0x29ccb5(0x1de),_0x29ccb5(0x1aa),'json',_0x29ccb5(0x1c7),_0x29ccb5(0x1a7),_0x29ccb5(0x1d8),_0x29ccb5(0x1b9),'Error\x20al\x20',_0x29ccb5(0x1e9),_0x29ccb5(0x1a5),_0x29ccb5(0x1bc),_0x29ccb5(0x1ab),_0x29ccb5(0x1eb),_0x29ccb5(0x1e6),_0x29ccb5(0x1be),_0x29ccb5(0x1ef),_0x29ccb5(0x1bd),_0x29ccb5(0x1ba),'btnShowList',_0x29ccb5(0x1db),'target','btnSearch','active',_0x29ccb5(0x1ad),_0x29ccb5(0x1b0),'trim',_0x29ccb5(0x1c5),_0x29ccb5(0x1d3),'length',_0x29ccb5(0x1d1),_0x29ccb5(0x1c8),_0x29ccb5(0x1bb)];return a0_0x1beb=function(){return _0x18595a;},a0_0x1beb();}async function handleFormSubmit(_0x554080){const _0xdb584f=a0_0x177ae7,_0x41b31a=a0_0x43582e;_0x554080[_0x41b31a(0x1de)]();const _0x392e51={'title':document[_0x41b31a(0x222)](_0x41b31a(0x1df))[_0x41b31a(0x216)],'director':document[_0x41b31a(0x222)](_0x41b31a(0x205))[_0x41b31a(0x216)],'genre':document[_0x41b31a(0x222)]('genre')[_0x41b31a(0x216)]},_0x4d744b=movieIdInput[_0x41b31a(0x216)];let _0x301b01,_0x2a8f53;isEditMode&&_0x4d744b?(_0x301b01=API_BASE_URL+_0x41b31a(0x1dd)+_0x4d744b,_0x2a8f53=_0x41b31a(0x1fd)):(_0x301b01=API_BASE_URL+_0x41b31a(0x202),_0x2a8f53='POST');try{const _0xb3bf08=await fetch(_0x301b01,{'method':_0x2a8f53,'headers':{'Content-Type':_0x41b31a(0x1e4)},'body':JSON[_0x41b31a(0x1f1)](_0x392e51)});if(!_0xb3bf08['ok'])throw new Error(_0x41b31a(0x1e1)+(isEditMode?_0xdb584f(0x1ac):_0xdb584f(0x19a))+_0x41b31a(0x1f9));showView(_0x41b31a(0x228)),addMovieForm[_0xdb584f(0x1cd)](),movieIdInput[_0x41b31a(0x216)]='',isEditMode=![],showNotification(_0x41b31a(0x235)+(isEditMode?_0x41b31a(0x1fa):_0x41b31a(0x20b))+_0xdb584f(0x1d9),_0x41b31a(0x21f));}catch(_0xa2aeec){console[_0x41b31a(0x20c)](_0x41b31a(0x22b),_0xa2aeec),showNotification(_0x41b31a(0x1e7)+_0xa2aeec[_0x41b31a(0x209)],_0x41b31a(0x214));}}function a0_0x1b60(_0x1f8bb9,_0x5d2cd6){const _0x50c7e7=a0_0x1beb();return a0_0x1b60=function(_0x592d16,_0x255175){_0x592d16=_0x592d16-0x1d8;let _0xf3f96a=_0x50c7e7[_0x592d16];return _0xf3f96a;},a0_0x1b60(_0x1f8bb9,_0x5d2cd6);}function showNotification(_0x58bfbc,_0x19d4df){const _0x54ee50=a0_0x177ae7,_0x3b271d=a0_0x43582e,_0xef0ca1=document[_0x3b271d(0x20e)](_0x3b271d(0x229));_0xef0ca1[_0x54ee50(0x1d2)]=_0x3b271d(0x1ea)+_0x19d4df,_0xef0ca1[_0x3b271d(0x1fc)]=_0x58bfbc;if(currentView===_0x3b271d(0x228))movieListSection[_0x3b271d(0x22a)](_0xef0ca1,movieListSection[_0x54ee50(0x1d1)]);else{if(currentView===_0x3b271d(0x1e3))movieFormSection[_0x3b271d(0x22a)](_0xef0ca1,movieFormSection[_0x3b271d(0x1f7)]);else currentView===_0x3b271d(0x200)&&movieDetailSection[_0x3b271d(0x22a)](_0xef0ca1,movieDetailSection[_0x3b271d(0x1f7)]);}setTimeout(()=>{const _0x42c8c0=_0x3b271d;_0xef0ca1[_0x42c8c0(0x1e9)]();},0xbb8);}function initApp(){const _0x268706=a0_0x43582e;showView(_0x268706(0x228));}document[a0_0x43582e(0x1fb)](a0_0x43582e(0x21c),initApp);