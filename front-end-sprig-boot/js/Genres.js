const a0_0x454b77=a0_0x168c;(function(_0x552b11,_0x10d06a){const _0x2a4e6d=a0_0x168c,_0x1f5e34=_0x552b11();while(!![]){try{const _0x57f9a0=-parseInt(_0x2a4e6d(0x1b7))/0x1*(-parseInt(_0x2a4e6d(0x1b2))/0x2)+parseInt(_0x2a4e6d(0x1e5))/0x3*(parseInt(_0x2a4e6d(0x1ed))/0x4)+parseInt(_0x2a4e6d(0x1ad))/0x5*(-parseInt(_0x2a4e6d(0x1d1))/0x6)+parseInt(_0x2a4e6d(0x1c0))/0x7+parseInt(_0x2a4e6d(0x1b1))/0x8*(-parseInt(_0x2a4e6d(0x1db))/0x9)+parseInt(_0x2a4e6d(0x1ba))/0xa+-parseInt(_0x2a4e6d(0x1f3))/0xb;if(_0x57f9a0===_0x10d06a)break;else _0x1f5e34['push'](_0x1f5e34['shift']());}catch(_0x410c5a){_0x1f5e34['push'](_0x1f5e34['shift']());}}}(a0_0xc72c,0xd5028));const API_BASE_URL=a0_0x454b77(0x1df),genresList=document[a0_0x454b77(0x1b0)](a0_0x454b77(0x1c4)),addGenreForm=document['getElementById'](a0_0x454b77(0x1c8)),genreNameInput=document[a0_0x454b77(0x1b0)](a0_0x454b77(0x1d0)),editGenreModal=document[a0_0x454b77(0x1b0)](a0_0x454b77(0x1d6)),editGenreForm=document['getElementById'](a0_0x454b77(0x1d8)),editGenreIdInput=document[a0_0x454b77(0x1b0)](a0_0x454b77(0x1ca)),editGenreNameInput=document[a0_0x454b77(0x1b0)](a0_0x454b77(0x1c6)),closeEditModal=document[a0_0x454b77(0x1b0)]('close-edit-modal'),cancelEdit=document[a0_0x454b77(0x1b0)]('cancel-edit'),successAlert=document[a0_0x454b77(0x1b0)](a0_0x454b77(0x1f1)),dangerAlert=document[a0_0x454b77(0x1b0)](a0_0x454b77(0x1f2)),loader=document[a0_0x454b77(0x1b0)](a0_0x454b77(0x1c9));function showLoader(){const _0x5ed85b=a0_0x454b77;loader[_0x5ed85b(0x1b3)]['display']=_0x5ed85b(0x1ae);}function hideLoader(){const _0x4e2621=a0_0x454b77;loader[_0x4e2621(0x1b3)]['display']=_0x4e2621(0x1e2);}function showSuccess(_0xfee613){const _0x27d9aa=a0_0x454b77;successAlert[_0x27d9aa(0x1de)]=_0xfee613||_0x27d9aa(0x1d7),successAlert[_0x27d9aa(0x1b3)][_0x27d9aa(0x1b5)]=_0x27d9aa(0x1bf),setTimeout(()=>{const _0x18ff38=_0x27d9aa;successAlert[_0x18ff38(0x1b3)][_0x18ff38(0x1b5)]='none';},0xbb8);}function showError(_0x402b18){const _0x1129d8=a0_0x454b77;dangerAlert[_0x1129d8(0x1de)]=_0x402b18||_0x1129d8(0x1e9),dangerAlert['style'][_0x1129d8(0x1b5)]=_0x1129d8(0x1bf),setTimeout(()=>{const _0x3ebd4b=_0x1129d8;dangerAlert[_0x3ebd4b(0x1b3)][_0x3ebd4b(0x1b5)]=_0x3ebd4b(0x1e2);},0xbb8);}async function loadGenres(){const _0x3c8c46=a0_0x454b77;try{showLoader();const _0x416224=await fetch(API_BASE_URL+'/api/getAllGenres');if(!_0x416224['ok'])throw new Error('Error\x20al\x20cargar\x20los\x20géneros');const _0x5a5c5e=await _0x416224[_0x3c8c46(0x1da)]();renderGenres(_0x5a5c5e),hideLoader();}catch(_0x5121f3){console[_0x3c8c46(0x1e4)](_0x3c8c46(0x1cf),_0x5121f3),showError(_0x3c8c46(0x1cc)),hideLoader();}}function renderGenres(_0x4e8891){const _0x3ee4f=a0_0x454b77;genresList[_0x3ee4f(0x1af)]='';if(_0x4e8891['length']===0x0){genresList['innerHTML']=_0x3ee4f(0x1ea);return;}_0x4e8891[_0x3ee4f(0x1bb)](_0x609210=>{const _0x293e1c=_0x3ee4f,_0x380cfb=document[_0x293e1c(0x1be)]('tr');_0x380cfb['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x609210['id']+_0x293e1c(0x1b4)+_0x609210[_0x293e1c(0x1e6)]+_0x293e1c(0x1bd)+_0x609210['id']+_0x293e1c(0x1d5)+_0x609210[_0x293e1c(0x1e6)]+_0x293e1c(0x1cd)+_0x609210['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20',genresList[_0x293e1c(0x1bc)](_0x380cfb);}),document[_0x3ee4f(0x1b9)](_0x3ee4f(0x1e8))[_0x3ee4f(0x1bb)](_0x530218=>{_0x530218['addEventListener']('click',function(){const _0x59545e=a0_0x168c,_0x385029=this[_0x59545e(0x1d9)]('data-id'),_0x5422af=this[_0x59545e(0x1d9)]('data-name');openEditModal(_0x385029,_0x5422af);});}),document[_0x3ee4f(0x1b9)](_0x3ee4f(0x1ec))[_0x3ee4f(0x1bb)](_0x5ea6ba=>{const _0x3a461f=_0x3ee4f;_0x5ea6ba[_0x3a461f(0x1e1)](_0x3a461f(0x1d2),function(){const _0x27dbce=_0x3a461f,_0x2a4070=this[_0x27dbce(0x1d9)](_0x27dbce(0x1e0));deleteGenre(_0x2a4070);});});}async function addGenre(_0x367625){const _0x430ad1=a0_0x454b77;try{showLoader();const _0x4df942=await fetch(API_BASE_URL+_0x430ad1(0x1d4),{'method':_0x430ad1(0x1d3),'headers':{'Content-Type':'application/json'},'body':JSON['stringify']({'name':_0x367625})});if(!_0x4df942['ok'])throw new Error(_0x430ad1(0x1e3));hideLoader(),showSuccess('Género\x20añadido\x20con\x20éxito'),addGenreForm[_0x430ad1(0x1c3)](),loadGenres();}catch(_0x605a29){console[_0x430ad1(0x1e4)](_0x430ad1(0x1cf),_0x605a29),showError(_0x430ad1(0x1e3)),hideLoader();}}function openEditModal(_0x22ebd4,_0x3c93b8){const _0x1dd481=a0_0x454b77;editGenreIdInput[_0x1dd481(0x1c1)]=_0x22ebd4,editGenreNameInput['value']=_0x3c93b8,editGenreModal[_0x1dd481(0x1b3)][_0x1dd481(0x1b5)]=_0x1dd481(0x1ae);}function a0_0x168c(_0x1c1489,_0x1788be){const _0xc72c3a=a0_0xc72c();return a0_0x168c=function(_0x168cb5,_0x1435a0){_0x168cb5=_0x168cb5-0x1ac;let _0x5a5af7=_0xc72c3a[_0x168cb5];return _0x5a5af7;},a0_0x168c(_0x1c1489,_0x1788be);}async function updateGenre(_0x5563e8,_0x293346){const _0x531cfa=a0_0x454b77;try{showLoader();const _0x3b068a=await fetch(API_BASE_URL+_0x531cfa(0x1dc)+_0x5563e8,{'method':_0x531cfa(0x1c7),'headers':{'Content-Type':'application/json'},'body':JSON[_0x531cfa(0x1ee)]({'name':_0x293346})});if(!_0x3b068a['ok'])throw new Error(_0x531cfa(0x1ce));hideLoader(),showSuccess(_0x531cfa(0x1f0)),editGenreModal[_0x531cfa(0x1b3)][_0x531cfa(0x1b5)]=_0x531cfa(0x1e2),loadGenres();}catch(_0x3136cb){console[_0x531cfa(0x1e4)](_0x531cfa(0x1cf),_0x3136cb),showError(_0x531cfa(0x1ce)),hideLoader();}}async function deleteGenre(_0x52364d){const _0x1b8256=a0_0x454b77;if(confirm(_0x1b8256(0x1b8)))try{showLoader();const _0x398c0e=await fetch(API_BASE_URL+_0x1b8256(0x1eb)+_0x52364d,{'method':'DELETE'});if(!_0x398c0e['ok'])throw new Error('Error\x20al\x20eliminar\x20el\x20género');hideLoader(),showSuccess('Género\x20eliminado\x20con\x20éxito'),loadGenres();}catch(_0x18499d){console[_0x1b8256(0x1e4)](_0x1b8256(0x1cf),_0x18499d),showError(_0x1b8256(0x1e7)),hideLoader();}}async function getGenreById(_0x495c79){const _0x355fb6=a0_0x454b77;try{showLoader();const _0x24a4c1=await fetch(API_BASE_URL+_0x355fb6(0x1b6)+_0x495c79);if(!_0x24a4c1['ok'])throw new Error(_0x355fb6(0x1ef));const _0x1f999c=await _0x24a4c1[_0x355fb6(0x1da)]();return hideLoader(),_0x1f999c;}catch(_0x4da86c){return console['error'](_0x355fb6(0x1cf),_0x4da86c),showError(_0x355fb6(0x1ef)),hideLoader(),null;}}function a0_0xc72c(){const _0x1944c1=['http://localhost:8081','data-id','addEventListener','none','Error\x20al\x20añadir\x20el\x20género','error','114ytgZMg','name','Error\x20al\x20eliminar\x20el\x20género','.btn-edit','Ha\x20ocurrido\x20un\x20error','<tr><td\x20colspan=\x223\x22\x20style=\x22text-align:\x20center;\x22>No\x20hay\x20géneros\x20disponibles</td></tr>','/api/deleteGenre/','.btn-delete','179764eqWxaw','stringify','Error\x20al\x20obtener\x20el\x20género','Género\x20actualizado\x20con\x20éxito','alert-success','alert-danger','12877260FGFsXy','target','5963140dGXjvi','flex','innerHTML','getElementById','8HnmAbm','49442zTrCHo','style','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','display','/api/getGenreById/','43gXzUSL','¿Estás\x20seguro\x20de\x20que\x20deseas\x20eliminar\x20este\x20género?','querySelectorAll','3882910oKAiXV','forEach','appendChild','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22table-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn-edit\x22\x20data-id=\x22','createElement','block','3283315fCEzWi','value','submit','reset','genres-list','DOMContentLoaded','edit-genre-name','PUT','add-genre-form','loader','edit-genre-id','preventDefault','Error\x20al\x20cargar\x20los\x20géneros','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn-delete\x22\x20data-id=\x22','Error\x20al\x20actualizar\x20el\x20género','Error:','genre-name','6uRmvZe','click','POST','/api/addGenre','\x22\x20data-name=\x22','edit-genre-modal','Operación\x20realizada\x20con\x20éxito','edit-genre-form','getAttribute','json','3530889RZnynV','/api/updateGenre/','trim','textContent'];a0_0xc72c=function(){return _0x1944c1;};return a0_0xc72c();}document[a0_0x454b77(0x1e1)](a0_0x454b77(0x1c5),()=>{const _0x54194a=a0_0x454b77;loadGenres(),addGenreForm[_0x54194a(0x1e1)](_0x54194a(0x1c2),function(_0x20a656){const _0x23e8b1=_0x54194a;_0x20a656[_0x23e8b1(0x1cb)]();const _0xc79188=genreNameInput[_0x23e8b1(0x1c1)]['trim']();_0xc79188&&addGenre(_0xc79188);}),editGenreForm[_0x54194a(0x1e1)](_0x54194a(0x1c2),function(_0xa9041a){const _0x39a89a=_0x54194a;_0xa9041a[_0x39a89a(0x1cb)]();const _0x43ffdd=editGenreIdInput[_0x39a89a(0x1c1)],_0x1c6b79=editGenreNameInput[_0x39a89a(0x1c1)][_0x39a89a(0x1dd)]();_0x43ffdd&&_0x1c6b79&&updateGenre(_0x43ffdd,_0x1c6b79);}),closeEditModal[_0x54194a(0x1e1)](_0x54194a(0x1d2),()=>{const _0x15dfbb=_0x54194a;editGenreModal[_0x15dfbb(0x1b3)][_0x15dfbb(0x1b5)]='none';}),cancelEdit[_0x54194a(0x1e1)](_0x54194a(0x1d2),()=>{const _0x46de3b=_0x54194a;editGenreModal[_0x46de3b(0x1b3)][_0x46de3b(0x1b5)]=_0x46de3b(0x1e2);}),window['addEventListener'](_0x54194a(0x1d2),_0x296a95=>{const _0x47fffc=_0x54194a;_0x296a95[_0x47fffc(0x1ac)]===editGenreModal&&(editGenreModal[_0x47fffc(0x1b3)][_0x47fffc(0x1b5)]=_0x47fffc(0x1e2));});});